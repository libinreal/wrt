<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<title>购物车-基建商城</title>
	<link rel="stylesheet" href="content/css/common.css" />
</head>
<body>

<div class="section">
	<div class="page-vertical clearfix">
		<div class="breadcrumbs">
			<a href="../">首页</a> &gt; <a href="index.html">基建商城</a> &gt; <span>购物车</span>
			<a href="javascript:history.go(-1);" class="return">返回 &gt;</a>
		</div>
		<div class="shopping">
			<div id="zj-cart"></div>
			<div class="nodata" style="display: none;">您的购物车还没有数据，请到<a href="index.html">基建商城</a>添加。</div>
			<div class="add-other" style="display: none;"><a href="index.html">添加其他商品</a></div>
			<div class="settlement cart-bg">
				<div class="total-price-left clearfix">
					<span class="look-label">关联合同编号：</span>
					<div class="zj-select">
						<em><i></i></em>
						<span class="default">请选择合同编号</span>
						<ul class="dropdown" id="zj-contracts">
							<li data-v="">请选择合同编号</li>
							<li data-v="2">abc1</li>
							<li data-v="3">abc2</li>
							<li data-v="4">abc3</li>
							<li data-v="5">公共库是指将常用的JS库存放在CDN节点,以方便广大开发者直接调用</li>
							<li data-v="6">公共库是指将常用的JS库存放在CDN节点</li>
							<li data-v="7">公共库是指将常用的JS库存放在CDN节点</li>
							<li data-v="8">公共库是指将常用的JS库存放在CDN节点</li>
							<li data-v="9">公共库是指将常用的JS库存放在CDN节点</li>
							<li data-v="10">公共库是指将常用的JS库存放在CDN节点</li>
							<li data-v="11">公共库是指将常用的JS库存放在CDN节点</li>
							<li data-v="12">公共库是指将常用的JS库存放在CDN节点</li>
							<li data-v="13">公共库是指将常用的JS库存放在CDN节点</li>
							<li data-v="14">公共库是指将常用的JS库存放在CDN节点</li>
						</ul>
						<input type="hidden" name="contractSn" />
					</div>
					<div class="zj-select">
						<em><i></i></em>
						<span class="default">请选择尺码</span>
						<ul class="dropdown" id="zj-contracts">
							<li data-v="">请选择尺码</li>
							<li data-v="2">s</li>
							<li data-v="3">m</li>
							<li data-v="4">l</li>
						</ul>
						<input type="hidden" name="contractSn" />
					</div>
					<select id="zj-contracts" name="contractSn">
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
						<option value="">请选择合同编号</option>
					</select>
				</div>
					<div class="settlement-total"><span class="settlement-label">总价金额：</span><span class="totalprice"></span> 信用B</div>			
					<div class="cart-btm">
						<a href="http://lc.talk99.cn/chat/chat/p.do?c=10033976&f=10043368&g=10048426" target="_blank" class="call-service">物融客服</a>
						<button class="payfor">去结算</button>
					</div>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
					<div class="zj-select">
						<em><i></i></em>
						<span class="default">请选择颜色</span>
						<ul class="dropdown" id="zj-contracts">
							<li data-v="">请选择颜色</li>
							<li data-v="2">红色</li>
							<li data-v="3">黄色</li>
							<li data-v="4">蓝色</li>
						</ul>
						<input type="hidden" name="contractSn" />
					</div>
					<br/>
					<br/>
					<br/>
					<br/>
					<br/>
			</div>
		</div>
	</div>
</div><!--//section-->
<script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
<script type="text/javascript">
	
	$(document).click(function(e){
		var hasActive = false,
			target = e.target;
		while(target && !$(target).hasClass('zj-select') && target.nodeName != 'BODY'){
			target = target.parentNode;
		}
		target = $(target);
		if(target.hasClass('zj-select')){
			hasActive = target.hasClass('active');
		}
		$('.zj-select').removeClass('active');
		if(target){
			pos(target);
			if(hasActive){
				target.removeClass('active');
			}else{
				target.addClass('active');
				checked(target.find('.dropdown li'), target.find('input[type="hidden"]').val());
			}
		}
	});
	//定位下拉弹出框
	function pos(target){
		var offset = target.offset();
		var dh = $(document).height();
		var dropdown = target.find('.dropdown');
		var dd = dh - offset.top - target.height();
		var mm = dropdown.height();

		// console.log('dd:' + dd +' mm:' + mm);
		if(dd <= mm){
			dropdown.addClass('bottom');
		}else{
			dropdown.removeClass('bottom');
		}
	}
	//设置默认选中值
	function checked(dom, v){
		dom.each(function(){
			if($(this).attr('data-v') == v){
				$(this).addClass('active');
			}else{
				$(this).removeClass('active');
			}
		});
	}
	$('.zj-select').click(function(){
		//$(this).toggleClass('active');
	});
    $('.zj-select .dropdown li').click(function(){
    	console.log(this);
        $(this).parent().prev().text($(this).text());
        $(this).parent().next().val($(this).attr('data-v'));
    });
    $('.zj-select .dropdown li').mouseover(function(){
    	$('.zj-select .dropdown li').removeClass('active');
    });
    var inte;
    $('.m_c_s').mouseenter(function(){
        if(inte){
            clearTimeout(inte);
        }
    });
    $('.m_c_s').mouseleave(function(){
        var that = $(this);
        inte = setTimeout(function(){
            that.hide();
        },300);
    });
    $('.m_c').mouseenter(function(){
        if(inte){
            clearTimeout(inte);
        }
    });
    $('.m_c').mouseleave(function(){
        inte = setTimeout(function(){
            $('.m_c_s').hide();
        },300);
    });
</script>
</body>
</html>