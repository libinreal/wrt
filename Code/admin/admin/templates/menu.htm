<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>中交物融管理平台菜单</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link href="styles/general.css" rel="stylesheet" type="text/css" />
    <script language="JavaScript">
        <!--
        var noHelp   = "<p align='center' style='color: #666'>{$lang.no_help}</p>";
        var helpLang = "{$help_lang}";
        //-->
    </script>
    {literal}
    <style type="text/css">
        body {
            background: #3D3D3D;margin: 0px;padding:0px;
        }
        dl,dd,dt,ul,ol,li {
            margin: 0px;padding:0px;
        }
        ul,ol,li {
            list-style-type: none;
        }
        #tabbar-div {
            background: #3D3D3D;
            padding-left: 10px;
            height: 21px;
            padding-top: 0px;
        }
        #tabbar-div p {
            margin: 1px 0 0 0;
        }
        .tab-front {
            background: #A5A5A5;
            line-height: 20px;
            font-weight: bold;
            padding: 4px 15px 4px 18px;
            border-right: 2px solid #335b64;
            cursor: hand;
            cursor: pointer;
        }
        .tab-back {
            color: #F4FAFB;
            line-height: 20px;
            padding: 4px 15px 4px 18px;
            cursor: hand;
            cursor: pointer;
        }
        .tab-hover {
            color: #F4FAFB;
            line-height: 20px;
            padding: 4px 15px 4px 18px;
            cursor: hand;
            cursor: pointer;
            background: #2F9DB5;
        }
        #top-div
        {
            padding: 3px 0 2px;
            background: #BBDDE5;
            margin: 5px;
            text-align: center;
        }
        #main-div {
            border: 1px solid #345C65;
            background: #FFF;
        }
        #menu-list {
            padding: 0;
            margin: 0;
        }
        #menu-list ul {
            padding: 0;
            margin: 0;
            list-style-type: none;
            color: #335B64;
        }
        #menu-list li {
            padding-left: 16px;
            line-height: 16px;
            cursor: hand;
            cursor: pointer;
        }
        #main-div a:visited, #menu-list a:link, #menu-list a:hover {
            color: #335B64
            text-decoration: none;
        }
        #menu-list a:active {
            color: #EB8A3D;
        }
        .explode {
            background: url(images/menu_minus.gif) no-repeat 0px 3px;
            font-weight: bold;
        }
        .collapse {
            background: url(images/menu_plus.gif) no-repeat 0px 3px;
            font-weight: bold;
        }
        .menu-item {
            background: url(images/menu_arrow.gif) no-repeat 0px 3px;
            font-weight: normal;
        }
        #help-title {
            font-size: 14px;
            color: #000080;
            margin: 5px 0;
            padding: 0px;
        }
        #help-content {
            margin: 0;
            padding: 0;
        }
        .tips {
            color: #CC0000;
        }
        .link {
            color: #000099;
        }

        #accordion {
        }

        .accordion {
            font: 12px Verdana, Arial;
            color: #333
        }

        .accordion dt {
            font-weight: bold;padding-left: 10px;
            cursor: pointer;
            background-color: #5E5E5E;
            background-image: url(images/arrow-d.png);
            background-position: right center;
            background-repeat: no-repeat;
            color: #fff;
            height: 25px;
            line-height: 25px;
            border-bottom: 1px solid #ffffff;
        }

        .accordion dt:hover {
            background-color: #A5A5A5;
        }

        .accordion .open {
            background-color: #A5A5A5;color: #000000;
            background-image: url(images/arrow-u.png)
        }

        .accordion dd {
            overflow: hidden;
            background: #fff;
        }
        .accordion dd ul li {margin-left: 20px;height: 20px;line-height: 20px;}

    </style>
    {/literal}
</head>
<body>
<div id="tabbar-div">
    <p><span style="float:right; padding: 3px 5px;" ><a href="javascript:toggleCollapse();"></a></span>
        <span class="tab-front" id="menu-tab">{$lang.menu}</span>
    </p>
</div>
<div id="main-div">
    <div id="accordion">
        <dl class="accordion" id="slider">
            {foreach from=$menus item=menu key=k}
            <dt>{$menu.label}</dt>
            <dd>
                {if $menu.children}
                <ul>
                    {foreach from=$menu.children item=child}
                    <li key="{$k}" name="menu"><a href="{$child.action}" target="main-frame">{$child.label}</a></li>
                    {/foreach}
                </ul>
                {/if}
            </dd>
            {/foreach}
            <dt>银行管理</dt>
            <dd>
                <ul>
                    <li name="menu"><a href="demo_template.php?section=bank&act=insert" target="main-frame">添加登记机构</a></li>
                    <li name="menu"><a href="demo_template.php?section=bank&act=list" target="main-frame">登记机构列表</a></li>
                </ul>
            </dd>
        </dl>
    </div>
</div>

{insert_scripts files="accordion.js,../js/global.js,../js/utils.js,../js/transport.js,menu.js"}
<script language="JavaScript">
<!--
var collapse_all = "{$lang.collapse_all}";
var expand_all = "{$lang.expand_all}";
var collapse = true;
{literal}
accordion.slider("slider", 0, "open");
//function toggleCollapse()
//{
//    var items = document.getElementsByTagName('LI');
//    for (i = 0; i < items.length; i++)
//    {
//        if (collapse)
//        {
//            if (items[i].className == "explode")
//            {
//                toggleCollapseExpand(items[i], "collapse");
//            }
//        }
//        else
//        {
//            if ( items[i].className == "collapse")
//            {
//                toggleCollapseExpand(items[i], "explode");
//                ToggleHanlder.Reset();
//            }
//        }
//    }
//
//    collapse = !collapse;
//    document.getElementById('toggleImg').src = collapse ? 'images/menu_minus.gif' : 'images/menu_plus.gif';
//    document.getElementById('toggleImg').alt = collapse ? collapse_all : expand_all;
//}
//
//function toggleCollapseExpand(obj, status)
//{
//    if (obj.tagName.toLowerCase() == 'li' && obj.className != 'menu-item')
//    {
//        for (i = 0; i < obj.childNodes.length; i++)
//        {
//            if (obj.childNodes[i].tagName == "UL")
//            {
//                if (status == null)
//                {
//                    if (obj.childNodes[1].style.display != "none")
//                    {
//                        obj.childNodes[1].style.display = "none";
//                        ToggleHanlder.RecordState(obj.getAttribute("key"), "collapse");
//                        obj.className = "collapse";
//                    }
//                    else
//                    {
//                        obj.childNodes[1].style.display = "block";
//                        ToggleHanlder.RecordState(obj.getAttribute("key"), "explode");
//                        obj.className = "explode";
//                    }
//                    break;
//                }
//                else
//                {
//                    if( status == "collapse")
//                    {
//                        ToggleHanlder.RecordState(obj.getAttribute("key"), "collapse");
//                        obj.className = "collapse";
//                    }
//                    else
//                    {
//                        ToggleHanlder.RecordState(obj.getAttribute("key"), "explode");
//                        obj.className = "explode";
//                    }
//                    obj.childNodes[1].style.display = (status == "explode") ? "block" : "none";
//                }
//            }
//        }
//    }
//}

//document.getElementById('menu-list').onclick = function(e)
//{
//    var obj = Utils.srcElement(e);
//    toggleCollapseExpand(obj);
//}
//
//document.getElementById('tabbar-div').onmouseover=function(e)
//{
//    var obj = Utils.srcElement(e);
//
//    if (obj.className == "tab-back")
//    {
//        obj.className = "tab-hover";
//    }
//}
//
//document.getElementById('tabbar-div').onmouseout=function(e)
//{
//    var obj = Utils.srcElement(e);
//
//    if (obj.className == "tab-hover")
//    {
//        obj.className = "tab-back";
//    }
//}


/**
 * 创建XML对象
 */
function createDocument()
{
    var xmlDoc;
    // create a DOM object
    if (window.ActiveXObject)
    {
        try
        {
            xmlDoc = new ActiveXObject("Msxml2.DOMDocument.6.0");
        }
        catch (e)
        {
            try
            {
                xmlDoc = new ActiveXObject("Msxml2.DOMDocument.5.0");
            }
            catch (e)
            {
                try
                {
                    xmlDoc = new ActiveXObject("Msxml2.DOMDocument.4.0");
                }
                catch (e)
                {
                    try
                    {
                        xmlDoc = new ActiveXObject("Msxml2.DOMDocument.3.0");
                    }
                    catch (e)
                    {
                        alert(e.message);
                    }
                }
            }
        }
    }
    else
    {
        if (document.implementation && document.implementation.createDocument)
        {
            xmlDoc = document.implementation.createDocument("","doc",null);
        }
        else
        {
            alert("Create XML object is failed.");
        }
    }
    xmlDoc.async = false;

    return xmlDoc;
}

//菜单展合状态处理器
//var ToggleHanlder = new Object();
//
//Object.extend(ToggleHanlder ,{
//    SourceObject : new Object(),
//    CookieName   : 'Toggle_State',
//    RecordState : function(name,state)
//    {
//        if(state == "collapse")
//        {
//            this.SourceObject[name] = state;
//        }
//        else
//        {
//            if(this.SourceObject[name])
//            {
//                delete(this.SourceObject[name]);
//            }
//        }
//        var date = new Date();
//        date.setTime(date.getTime() + 99999999);
//        document.setCookie(this.CookieName, this.SourceObject.toJSONString(), date.toGMTString());
//    },
//
//    Reset :function()
//    {
//        var date = new Date();
//        date.setTime(date.getTime() + 99999999);
//        document.setCookie(this.CookieName, "{}" , date.toGMTString());
//    },
//
//    Load : function()
//    {
//        if (document.getCookie(this.CookieName) != null)
//        {
//            this.SourceObject = t_eval();
//            var items = document.getElementsByTagName('LI');
//            for (var i = 0; i < items.length; i++)
//            {
//                if ( items[0].getAttribute("name") == "menu" && items[0].getAttribute("id") != '20_yun')
//                {
//                    for (var k in this.SourceObject)
//                    {
//                        if ( typeof(items[i]) == "object")
//                        {
//                            if (items[i].getAttribute('key') == k)
//                            {
//                                toggleCollapseExpand(items[i], this.SourceObject[k]);
//                                collapse = false;
//                            }
//                        }
//                    }
//                }
//            }
//        }
//        document.getElementById('toggleImg').src = collapse ? 'images/menu_minus.gif' : 'images/menu_plus.gif';
//        document.getElementById('toggleImg').alt = collapse ? collapse_all : expand_all;
//    }
//});
{/literal}
//ToggleHanlder.CookieName += "_{$admin_id}";
//初始化菜单状态
//ToggleHanlder.Load();

//-->
</script>

</body>
</html>